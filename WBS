
# Let's update the WPS hierarchy with the new detailed breakdown and generate a simple, red-colored diagram.

# Define the updated WPS hierarchy
wps_hierarchy_updated = {
    '1.1 Game Setup': {
        '1.1.1 Murder Mystery Scenario': {
            '1.1.1.1 Script and Storyline': ['Develop script', 'Create plot and main clues'],
            '1.1.1.2 Character Roles': ['Assign roles', 'Prepare character profiles'],
            '1.1.1.3 Clue Cards and Evidence Sheets': ['Design and print clue cards', 'Create evidence sheets'],
            '1.1.1.4 Mystery-solving Tools': ['Procure tools', 'Distribute materials']
        },
        '1.1.2 Game Stages': {
            '1.1.2.1 Puzzle Design': ['Create puzzles for game phases'],
            '1.1.2.2 Team Clues Distribution': ['Organize and distribute team clues'],
            '1.1.2.3 Final Reveal of Murderer': ['Plan final scene of reveal']
        }
    },
    '1.2 Event Logistics': {
        '1.2.1 Venue Setup': {
            '1.2.1.1 Decorations': ['Set up Halloween decorations'],
            '1.2.1.2 Lighting': ['Install lighting'],
            '1.2.1.3 Sound System & DJ Booth': ['Set up sound system and DJ booth']
        },
        '1.2.2 Food and Drink Stands': {
            '1.2.2.1 Halloween-themed Snacks': ['Prepare snacks'],
            '1.2.2.2 Beverage Stands': ['Set up beverage stands']
        },
        '1.2.3 Logistics and Equipment': {
            '1.2.3.1 Fog Machine': ['Install and test fog machine'],
            '1.2.3.2 Photobooth': ['Set up photobooth with props'],
            '1.2.3.3 Clean-up and Waste Management': ['Organize clean-up crews']
        },
        '1.2.4 Security & First Aid': ['Ensure security presence', 'Arrange first aid staff']
    },
    '1.3 Marketing & Promotion': {
        '1.3.1 Social Media Campaign': {
            '1.3.1.1 Event Announcements': ['Post event announcements'],
            '1.3.1.2 Teasers': ['Release teasers and clues online']
        },
        '1.3.2 On-Campus Promotion': {
            '1.3.2.1 Posters and Flyers': ['Design and distribute posters'],
            '1.3.2.2 Volunteer Recruitment Ads': ['Post volunteer ads']
        },
        '1.3.3 Website Event Page': ['Create and maintain event page']
    },
    '1.4 Participation': {
        '1.4.1 Team Formation & Registration': {
            '1.4.1.1 Randomized Team Assignment': ['Form teams randomly'],
            '1.4.1.2 Participant Registration Forms': ['Manage registration forms']
        },
        '1.4.2 Game Rules & Instructions': ['Write and distribute rules']
    },
    '1.5 Rewards & Feedback': {
        '1.5.1 Prizes for Winning Team': ['Purchase and prepare prizes'],
        '1.5.2 Participation Goodies': ['Provide TSM-branded items'],
        '1.5.3 Post-Event Surveys': {
            '1.5.3.1 Satisfaction Survey': ['Distribute satisfaction survey'],
            '1.5.3.2 Impact Evaluation': ['Evaluate social impact']
        }
    }
}

# Create directed graph
G_updated = nx.DiGraph()

# Add edges based on the updated hierarchy
def add_edges_updated(hierarchy, parent=None):
    for key, value in hierarchy.items():
        if parent:
            G_updated.add_edge(parent, key)
        if isinstance(value, dict):
            add_edges_updated(value, key)
        elif isinstance(value, list):
            for item in value:
                G_updated.add_edge(key, item)

add_edges_updated(wps_hierarchy_updated)

# Set up the figure and layout
plt.figure(figsize=(16, 10))
pos_updated = nx.spring_layout(G_updated, seed=42)  # Layout for visual appeal

# Draw the updated graph with red color for nodes
nx.draw(G_updated, pos_updated, with_labels=True, node_size=3000, node_color="lightcoral", font_size=8, font_weight='bold', font_color="black", arrows=False)

# Display the updated WPS diagram
plt.title('Simplified Work Package Structure (WPS) Diagram')
plt.show()
